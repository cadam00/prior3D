<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Evaluate prioritization solution over 3D feature distributions — evaluate_3D • prior3D</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Evaluate prioritization solution over 3D feature distributions — evaluate_3D"><meta name="description" content="Evaluate prioritization solution over 3D feature distributions."><meta property="og:description" content="Evaluate prioritization solution over 3D feature distributions."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">prior3D</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html" aria-label="GitHub"><span class="fa fa-home"></span></a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/cadam00/prior3D/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Evaluate prioritization solution over 3D feature distributions</h1>

      <div class="d-none name"><code>evaluate_3D.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Evaluate prioritization solution over 3D feature distributions.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">evaluate_3D</span><span class="op">(</span><span class="va">solution</span>, <span class="va">split_features</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-solution">solution<a class="anchor" aria-label="anchor" href="#arg-solution"></a></dt>
<dd><p>prioritization solution SpatRaster object.</p></dd>

<dt id="arg-split-features">split_features<a class="anchor" aria-label="anchor" href="#arg-split-features"></a></dt>
<dd><p>A list of SpatRaster objects representing depth zones, where each element
corresponds to a different depth level, ranging from surface to the bottom of the sea.
The function uses the output of the split_rast function, but other multilevel (3D)
distribution data that conform to this structure is also acceptable.
First list element corresponds to the shallowest distribution and the last list element to
the deepest one.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function evaluates a prioritization solution over 3D feature distributions, by
estimating the relative and overall percentages of features under protection, as
designated by the prioritization solution.</p>
    </div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list containing the following evaluation metrics:</p><ul><li><p>relative_held_raw: relative percentage under protection per feature and
per depth level</p></li>
<li><p>relative_held: mean percentage under protection of all features per depth level</p></li>
<li><p>overall_held: overall percentage under protection per feature</p></li>
<li><p>overall_available: relative percentage under protection per feature and per
depth level, over total amount of each feature</p></li>
<li><p>depth_overall_available: averages of overall_available per depth</p></li>
<li><p>absolute_held: absolute value per feature and per depth under protection</p></li>
<li><p>total_amount: absolute value per feature and depth level</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co">## This example requires commercial solver from 'gurobi' package for</span></span></span>
<span class="r-in"><span><span class="co">## portfolio = "gap". Else replace it with e.g. portfolio = "shuffle" for using</span></span></span>
<span class="r-in"><span><span class="co">## a free solver like the one from 'highs' package.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">biodiv_raster</span> <span class="op">&lt;-</span> <span class="fu"><a href="get_biodiv_raster.html">get_biodiv_raster</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">depth_raster</span> <span class="op">&lt;-</span> <span class="fu"><a href="get_depth_raster.html">get_depth_raster</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">biodiv_df</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># You can split features' 2D distributions into 3D ones and then run only 3D analysis</span></span></span>
<span class="r-in"><span><span class="va">split_features</span> <span class="op">&lt;-</span> <span class="fu"><a href="split_rast.html">split_rast</a></span><span class="op">(</span><span class="va">biodiv_raster</span>,</span></span>
<span class="r-in"><span>                             <span class="va">depth_raster</span>,</span></span>
<span class="r-in"><span>                             breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="op">-</span><span class="fl">40</span>, <span class="op">-</span><span class="fl">200</span>, <span class="op">-</span><span class="fl">2000</span>, <span class="op">-</span><span class="cn">Inf</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                             <span class="va">biodiv_df</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">out_3D</span> <span class="op">&lt;-</span> <span class="fu"><a href="prioritize_3D.html">prioritize_3D</a></span><span class="op">(</span>split_features <span class="op">=</span> <span class="va">split_features</span>,</span></span>
<span class="r-in"><span>                        depth_raster <span class="op">=</span> <span class="va">depth_raster</span>,</span></span>
<span class="r-in"><span>                        breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="op">-</span><span class="fl">40</span>, <span class="op">-</span><span class="fl">200</span>, <span class="op">-</span><span class="fl">2000</span>, <span class="op">-</span><span class="cn">Inf</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                        biodiv_df <span class="op">=</span> <span class="va">biodiv_df</span>,</span></span>
<span class="r-in"><span>                        budget_percents <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">0.1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                        budget_weights <span class="op">=</span> <span class="st">"richness"</span>,</span></span>
<span class="r-in"><span>                        threads <span class="op">=</span> <span class="fu">parallel</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/parallel/detectCores.html" class="external-link">detectCores</a></span><span class="op">(</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                        portfolio <span class="op">=</span> <span class="st">"gap"</span>,</span></span>
<span class="r-in"><span>                        portfolio_opts <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>number_solutions <span class="op">=</span> <span class="fl">10</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">evaluate_3D</span><span class="op">(</span><span class="va">out_3D</span><span class="op">$</span><span class="va">solution3D</span><span class="op">$</span><span class="va">budget0.3</span>, <span class="va">split_features</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Aggeliki Doxa, Christos Adam, Nikolaos Nagkoulis, Antonios Mazaris, Stelios Katsanevakis.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

